(function(e){function t(t){for(var c,n,s=t[0],l=t[1],i=t[2],u=0,b=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&b.push(r[n][0]),r[n]=0;for(c in l)Object.prototype.hasOwnProperty.call(l,c)&&(e[c]=l[c]);d&&d(t);while(b.length)b.shift()();return o.push.apply(o,i||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],c=!0,s=1;s<a.length;s++){var l=a[s];0!==r[l]&&(c=!1)}c&&(o.splice(t--,1),e=n(n.s=a[0]))}return e}var c={},r={app:0},o=[];function n(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=c,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var d=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"56d7":function(e,t,a){"use strict";a.r(t);var c=a("7a23");function r(e,t,a,r,o,n){const s=Object(c["m"])("Navbar"),l=Object(c["m"])("Home");return Object(c["j"])(),Object(c["e"])(c["a"],null,[Object(c["g"])(s),Object(c["g"])(l)],64)}const o={key:0,class:"alert alert-danger",role:"alert"},n={class:"home container d-flex flex-wrap p-2 my-1"},s={key:0,class:"my-3"},l={key:1,class:"my-3"},i={class:"row gy-3"},d={key:2,class:"spinner-grow text-dark loader d-flex justify-content-center",role:"status"},u=Object(c["f"])("span",{class:"visually-hidden"},"Loading...",-1),b=[u];function g(e,t,a,r,u,g){const p=Object(c["m"])("Card");return Object(c["j"])(),Object(c["e"])(c["a"],null,[u.showMsg?(Object(c["j"])(),Object(c["e"])("div",o,Object(c["n"])(u.errorMsg),1)):Object(c["d"])("",!0),Object(c["f"])("div",n,[e.categorySearch?(Object(c["j"])(),Object(c["e"])("h5",s,Object(c["n"])(e.categorySearch),1)):(Object(c["j"])(),Object(c["e"])("h5",l,"All products")),Object(c["q"])(Object(c["f"])("div",i,[(Object(c["j"])(!0),Object(c["e"])(c["a"],null,Object(c["l"])(e.products,t=>Object(c["q"])((Object(c["j"])(),Object(c["e"])("div",{class:"col-md-6 col-lg-4 col-xl-3",key:t.image},[Object(c["g"])(p,{title:t.title,image:t.image,price:t.price},null,8,["title","image","price"])])),[[c["o"],t.category===e.categorySearch||""===e.categorySearch]])),128))],512),[[c["o"],!u.loading]]),u.loading?(Object(c["j"])(),Object(c["e"])("div",d,b)):Object(c["d"])("",!0)])],64)}const p={class:"card w-100 h-100 p-3"},j=["src"],f={class:"card-body text-center mx-auto d-flex align-items-end"},O={class:"cvp"},h={class:"card-title"},m={class:"card-text"};function v(e,t,a,r,o,n){return Object(c["j"])(),Object(c["e"])("article",p,[Object(c["f"])("img",{class:"img-thumbnail",src:a.image,alt:"Product img"},null,8,j),Object(c["f"])("div",f,[Object(c["f"])("div",O,[Object(c["f"])("p",h,Object(c["n"])(a.title),1),Object(c["f"])("h6",m,Object(c["n"])(a.price)+" â‚¬",1)])])])}var y={name:"Card",props:{title:{type:String,default:null},image:{type:String,default:null},price:{type:Number,default:0}}},w=a("6b0d"),S=a.n(w);const C=S()(y,[["render",v]]);var x=C,k=a("5502"),P={name:"Home",components:{Card:x},data(){return{loading:!0,errorMsg:"",showMsg:!1}},methods:{...Object(k["b"])(["localGetProducts","localGetCategories","getCachedData"])},computed:{...Object(k["c"])(["products","categories","categorySearch"])},created(){var e;(null===(e=this.products)||void 0===e?void 0:e.length)>1?this.getCachedData(e=>this.loading=e):this.localGetProducts(e=>this.loading=e,e=>(this.errorMsg=e,this.showMsg=!0))}};a("de84");const N=S()(P,[["render",g]]);var M=N;const D={class:"navbar navbar-expand-lg"},G={class:"container-fluid"},L=Object(c["f"])("a",{class:"navbar-brand",href:"#"},"Shop",-1),J=Object(c["f"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(c["f"])("span",{class:"navbar-toggler-icon"})],-1),_={class:"collapse navbar-collapse",id:"navbarNavDropdown"},I={class:"navbar-nav"},T={class:"nav-item dropdown"},H=Object(c["f"])("a",{class:"nav-link dropdown-toggle",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Categories ",-1),q={class:"dropdown-menu"},A=Object(c["f"])("hr",null,null,-1),E=["onClick"],W={class:"dropdown-item",href:"#"},z=Object(c["f"])("hr",null,null,-1);function B(e,t,a,r,o,n){return Object(c["j"])(),Object(c["e"])("nav",D,[Object(c["f"])("div",G,[L,J,Object(c["f"])("div",_,[Object(c["f"])("ul",I,[Object(c["f"])("li",T,[H,Object(c["f"])("ul",q,[Object(c["f"])("li",null,[Object(c["f"])("a",{class:"dropdown-item",href:"#",onClick:t[0]||(t[0]=t=>e.setCategorySearch(""))},"All products")]),A,(Object(c["j"])(!0),Object(c["e"])(c["a"],null,Object(c["l"])(e.categories,t=>(Object(c["j"])(),Object(c["e"])("li",{key:t,onClick:a=>e.setCategorySearch(t)},[Object(c["f"])("a",W,Object(c["n"])(t),1),z],8,E))),128))])])])])])])}var F={name:"Navbar",methods:{...Object(k["b"])(["localGetCategories","setCategorySearch","getCachedData"])},computed:{...Object(k["c"])(["categories"])},created(){var e;this.getCachedData(e=>e),(null===(e=this.categories)||void 0===e?void 0:e.length)<1&&this.localGetCategories()}};a("9c8f");const K=S()(F,[["render",B]]);var Q=K,R={components:{Home:M,Navbar:Q}};const U=S()(R,[["render",r]]);var V=U,X=(a("14d9"),a("cee4"));async function Y(e,t){await Object(X["a"])({method:"get",url:"https://fakestoreapi.com/products"}).then(t=>{e(t)}).catch(e=>{t(e)})}async function Z(e,t){await Object(X["a"])({method:"get",url:"https://fakestoreapi.com/products/categories"}).then(t=>{e(t)}).catch(e=>{})}var $=Object(k["a"])({state:{products:[],categories:[],categorySearch:""},mutations:{setLocalProducts(e,t){e.products=t},setLocalCategories(e,t){e.categories=t},setCategorySearch(e,t){e.categorySearch=t}},actions:{localGetProducts({commit:e},t,a){const c=[];let r="";Y(a=>{a.data.forEach(a=>{c.push(a),e("setLocalProducts",c),localStorage.setItem("cachedProducts",JSON.stringify(c)),t(!1)})},e=>{429===e.status&&(r="Too many calls. Wait a few minutes"),a(r)})},localGetCategories({commit:e}){const t=[];Z(a=>{a.data.forEach(e=>{t.push(e)}),e("setLocalCategories",t),localStorage.setItem("cachedCategories",JSON.stringify(t))})},setCategorySearch({commit:e},t){e("setCategorySearch",t)},getCachedData({commit:e},t){const a=JSON.parse(localStorage.getItem("cachedProducts"))||[],c=JSON.parse(localStorage.getItem("cachedCategories"))||[];console.log("cacheaaado"),e("setLocalProducts",a),e("setLocalCategories",c),t(!1)}},modules:{}});a("ab8b"),a("7b17");Object(c["c"])(V).use($).mount("#app")},"678a":function(e,t,a){},"834d":function(e,t,a){},"9c8f":function(e,t,a){"use strict";a("678a")},de84:function(e,t,a){"use strict";a("834d")}});
//# sourceMappingURL=app.a2d8ac83.js.map